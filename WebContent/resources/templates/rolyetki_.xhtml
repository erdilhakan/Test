<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

	<h:head>
	
		<title>#{label.binabilgileri}</title>
		<h:outputStylesheet library="css" name="maincontext.css" />
<script type="text/javascript">
    function handleDrop(event, ui) {
        var droppedCar = ui.draggable;
 
        droppedCar.fadeOut('fast');
    }
</script>
<LINK href="${facesContext.externalContext.requestContextPath}/resources/css/stylesheet.css" rel="stylesheet" type="text/css"/>
<LINK href="${facesContext.externalContext.requestContextPath}/resources/css/style.css" rel="stylesheet" type="text/css"/>
	<style type="text/css">
	.ui-dialog {padding: .2em; overflow: visible; border: 0 none; -webkit-box-shadow: 0 1px 4px rgba(0,0,0,0.75); -moz-box-shadow: 0 1px 4px rgba(0,0,0,0.75); box-shadow: 0 1px 4px rgba(0,0,0,0.75); }
.ui-dialog .ui-dialog-titlebar { position: relative; background: transparent !important; padding: 0 0 8px 0; margin: 20px 20px 5px 20px; border: solid #e5e5e5; border-width: 0 0 1px 0; -webkit-border-radius: 0; -moz-border-radius: 0; border-radius: 0; }
.ui-dialog .ui-dialog-title { float: left; margin: .1em 16px .1em 0; color: #353536; font-size: 20px !important; } 
.ui-dialog .ui-dialog-titlebar-close { position: absolute; right: -16px !important; top: -16px !important; margin: 0; width: 30px; height: 30px; background: url("#{resource['primefaces-delta:images/modalClose.png']}") 0 0 no-repeat; border: 0 !important; z-index: 10000; padding: 0px !important;}
.ui-dialog .ui-dialog-titlebar-close span { display: none !important; }
.ui-dialog .ui-dialog-titlebar-close:hover, .ui-dialog .ui-dialog-titlebar-close:focus { padding: 0; }
.ui-dialog .ui-dialog-content { position: relative; border: 0; padding: 15px 20px 20px 20px; background: none; overflow: auto; zoom: 1; }
.ui-dialog .ui-dialog-buttonpane { text-align: left; border: solid #e5e5e5; border-width: 1px 0 0 0; background: transparent; margin: 20px 20px 10px 20px; padding: 10px 0 0 0; }
.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset { float: right; }
.ui-dialog .ui-dialog-buttonpane button { margin: .5em .4em .5em 0; cursor: pointer; }
.ui-dialog .ui-resizable-se { width: 14px; height: 14px; right: 3px; bottom: 3px; }
.ui-draggable .ui-dialog-titlebar { cursor: move; }
span.fc-event-title{
width:100%;}
.fc-event .fc-event-inner,.fc-event-inner{
	z-index:-1;
	margin-top:0px;
width:100%;
height: 100px;

}

.fc-event-title,.fc-event-time,.fc-event-inner{
	color:#fff;
	font-size:12px;
	width:100%;
	font-family: comic sans MS;
}

.ui-datepicker table {width: 100%; font-size: .9em; border-collapse: collapse; margin: -1px 0 0 0 !important; }
.ui-datepicker th { padding: .7em 0; text-align: center; font-weight: bold; border: 0; font-size: 10px; color: #acacac; border-bottom: 1px solid #cdcdcd !important; }
.ui-datepicker td { border: 0; padding: 0 !important; border: 1px solid #cdcdcd; }
.ui-datepicker td a { display: block; padding: 0 !important; border: 0 none !important;/*border: 1px solid #cdcdcd !important;*/ 
line-height: 20px; text-align: center !important; font-size: 10px; text-decoration: none; font-weight: bold !important; }

.ui-state-active, .ui-widget-content .ui-state-active, .ui-widget-header .ui-state-active{
	background:#6986c9;
	font-weight: bold;
	
}
.ui-outputlabel{
color :#000;
font-size: 13px;
font-weight: bold;
}
</style>
	</h:head>
	<h:form id="form">
		<p:growl autoUpdate="true" showDetail="false" id="growl" />
 <table style="width:100%; border:none;vertical-align: text-top;" >
 <tr style="width:100%;">
 <td style="width:50%;vertical-align: text-top" >
 <p:fieldset legend="#{label.roller}" toggleable="true" id="rolfield">
 <p:dataTable value="#{rolBean.rolModel}" var="rol" emptyMessage="#{label.emptyList}" 
 filteredValue="#{rolBean.filteredRol}"
  selectionMode="single" selection="#{rolBean.secilenRol}" id="rolTable" > 
 <p:ajax event="rowSelect" listener="#{rolBean.onRolSelect}" update=":form"></p:ajax>
            <p:column headerText="#{label.id}" sortBy="id">
        		#{rol.id}    
            </p:column>
            <p:column headerText="#{label.adi}" filterBy="adi" filterMatchMode="contains" sortBy="adi">
           
          	#{rol.adi}  
          	
            </p:column>
            <p:column>
            <p:commandButton icon="ui-icon-trash" title="Sil" actionListener="#{rolBean.rolSil(rol)}" update=":form" process="rolTable"/>
            </p:column>
        . <f:facet name="footer">
        <p:commandButton style="float:right" icon="ui-icon-circle-plus" value="#{label.ekle}" 
        onclick="PF('rolEkle').show()" type="button"></p:commandButton>
        </f:facet>
    </p:dataTable> 
    </p:fieldset>
 </td>
 <td style="width:50%;vertical-align: text-top;">
  <p:fieldset legend="#{label.yetkiler}" toggleable="true" id="yetkifield">
 <p:dataTable value="#{rolBean.yetkiModel}" var="yetki" emptyMessage="#{label.emptyList}"  
 filteredValue="#{rolBean.filteredYetki}"  selection="#{rolBean.secilenYetki}" id="yetkiTable">

 <p:column selectionMode="multiple" style="width:16px;text-align:center"/> 

            <p:column headerText="#{label.id}" sortBy="id">
        		#{yetki.id}    
            </p:column>
            <p:column headerText="#{label.adi}" filterBy="adi" filterMatchMode="contains" sortBy="adi">
          	#{yetki.adi}  
            </p:column>
        .
         <f:facet name="footer">
        <p:commandButton style="float:right" icon="ui-icon-transferthick-e-w" value="#{label.tasi}"
         actionListener="#{rolBean.yetkiTasi}"
        process="yetkiTable :form:rolTable :form:rolYetkiTable" update=":form:growl :form:rolYetkiTable :form:yetkiTable"></p:commandButton>
        </f:facet>
      
    </p:dataTable> 
    </p:fieldset>
   </td>
   </tr>
 <tr style="width:100%;">
 <td colspan="2">
 <p:fieldset id="rolyetkifield" legend="#{rolBean.secilenRol.adi}" style="margin-top:20px" rendered="false" >
      
          
            <p:dataTable id="rolYetkiTable" var="ry" value="#{rolBean.secilenRolYetkileri}" emptyMessage="#{label.emptyList}">
            <p:column headerText="#{label.id}" sortBy="id">
        		#{ry.yetkiId}    
            </p:column>
            <p:column headerText="#{label.adi}"  sortBy="adi">
          	#{ry.yetkiAdi}  
            </p:column>
            <p:column>
            <p:commandButton process="rolYetkiTable" icon="ui-icon-trash" title="Sil" actionListener="#{rolBean.rolYetkiSil(ry)}" update="rolYetkiTable :form:growl :form:yetkiTable"/>
            </p:column>
            </p:dataTable>
            
        
    </p:fieldset>
   </td>
   </tr>
   </table>	
	<p:dialog id="rolEkle" widgetVar="rolEkle" width="300px">
	<h:panelGrid columns="2" style="width:100%" id="pnlrol">
	<p:outputLabel value="#{label.rolAdi}" for="roladi"></p:outputLabel>
	<p:inputText value="#{rolBean.rolDTO.adi}" style="width:90%" required="true" requiredMessage="Alana deÄŸer giriniz" id="roladi"/>
	<h:outputText/>
	<p:commandButton value="#{label.kaydet}" icon="ui-icon-disk" actionListener="#{rolBean.rolKaydet}" oncomplete="PF('rolEkle').show()" process="rolEkle"
	update=":form"></p:commandButton>
	</h:panelGrid>
	</p:dialog>
	
	</h:form>
</ui:composition>
